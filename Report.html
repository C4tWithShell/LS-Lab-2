<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        SSN Lab 2 - Container Orchestration &amp; Load-balancing - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important;position:relative}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p:last-child{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p:last-child,.markdown-body .alert>ul:last-child{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.figma{display:table;position:relative;width:100%;padding-bottom:56.25%}.figma iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;border:1px solid #eee}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{height:40px;padding:10px 4px;border-top-left-radius:0;border-bottom-left-radius:0}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:20px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child>ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:50%;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;text-decoration:none;padding-left:22px}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em;font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h1 id="SSN-Lab-2---Container-Orchestration-amp-Load-balancing" data-id="SSN-Lab-2---Container-Orchestration-amp-Load-balancing"><a class="anchor hidden-xs" href="#SSN-Lab-2---Container-Orchestration-amp-Load-balancing" title="SSN-Lab-2---Container-Orchestration-amp-Load-balancing"><span class="octicon octicon-link"></span></a><span>SSN Lab 2 - Container Orchestration &amp; Load-balancing</span></h1><p><strong><span>Name: Vladimir Shelkovnikov, Alisher Arystai</span></strong></p><hr><h2 id="Task-1---Choose-Container-Engine-amp-Orchestration" data-id="Task-1---Choose-Container-Engine-amp-Orchestration"><a class="anchor hidden-xs" href="#Task-1---Choose-Container-Engine-amp-Orchestration" title="Task-1---Choose-Container-Engine-amp-Orchestration"><span class="octicon octicon-link"></span></a><span>Task 1 - Choose Container Engine &amp; Orchestration</span></h2><div class="alert alert-success">
<ol>
<li><span>Choose a container engine.</span></li>
<li><span>Сhoose an orchestration engine.</span></li>
<li><span>Deploy a true container cluster farm, across several team machines. It is however recommended to proceed in a virtual machine environments so the worker nodes can have the exact same system patch level (which makes it easier).</span><br>
<span>Bonus: if you choose Docker, play with alternate storage drivers e.g. BTRFS or ZFS instead of OverlayFS.</span></li>
<li><span>Analyze and describe the best practices of usage the chosen container engine.</span></li>
</ol>
</div><p><span>I chose Docker as my container engine, and Docker Swarm as the orchestration engine.</span></p><p><span>First, I installed docker using the following commands:</span></p><pre><code>sudo apt update
// Install necessary packects
sudo apt install apt-transport-https ca-certificates curl software-properties-common
// Add GPG key for official repository
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
// Add Docker as a apt source
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"
sudo apt update
// Install docker
sudo apt install docker-ce
// Start and enable docker
sudo systemctl enable docker
sudo systemctl start docker
</code></pre><p><span>Figure 1 shows that docker is installed.</span></p><center>
<p><img src="https://i.imgur.com/phrpy62.png" alt="" loading="lazy"><br>
<span>Figure 1 - Docker is installed</span></p>
</center><p><span>I have configured the network using netplan as shown in Figure 2.</span></p><center>
<p><img src="https://i.imgur.com/6sUp8SZ.png" alt="" loading="lazy"><br>
<span>Figure 2 - Network configuration for workstation</span></p>
</center><p><span>Then we set up the network topology as shown in Figures 3 and 4.</span></p><center>
<p><img src="https://i.imgur.com/3GwQvSB.png" alt="" loading="lazy"><br>
<span>Figure 3 - Network topology (Vladimir)</span></p>
<p><img src="https://i.imgur.com/xQKoWL3.jpg" alt="" loading="lazy"><br>
<span>Figure 4 - Network topology (Alisher)</span></p>
</center><p><span>Then I created the manager using Docker swarm </span><code>sudo docker swarm init --advertise-addr 10.1.1.23</code><span> as shown in Figure 5.</span></p><center>
<p><img src="https://i.imgur.com/i1O5cV2.png" alt="" loading="lazy"><br>
<span>Figure 5 - Manager is created</span></p>
</center><p><span>Now I can attach a worker to a manager using the command </span><code>sudo docker swarm join --token SWMTKN-1-3ymzsbgzf22qglzxd4j8esu6udlt6dv2i9yeerotszey03gpw2-1keano5ib14fpvtjevkb2y9hn 10.1.1.23:2377</code><span>.</span></p><p><span>So I joined my first worker to the cluster as shown in Figure 6.</span></p><center>
<p><img src="https://i.imgur.com/LhpwsKb.png" alt="" loading="lazy"><br>
<span>Figure 6 - Worker-1 is added to the cluster</span></p>
</center><p><span>Then I sent this command to Alisher, and he added his worker to me.</span></p><p><span>Figure 7 shows the active nodes in my cluster.</span></p><center>
<p><img src="https://i.imgur.com/apOPxXe.png" alt="" loading="lazy"><br>
<span>Figure 7 - Active nodes</span></p>
</center><hr><blockquote>
<p><span>Analyze and describe the best practices of usage the chosen container engine.</span></p>
<blockquote>
<p><span>Docker allows you to solve the problem of setting up the environment when transferring or moving an application. At the same time, it also provides replicability and reusability as well as controllability. Some pluses:</span><br>
<span>Isolation:</span></p>
<ul>
<li><span>Regardless of the environment, software will run uniformly even if there are distinctions between instances it is running on. Moreover, the same applies for development environment, and staging one. Isolation may mean enhanced security in some way.</span></li>
</ul>
<p><span>Weight:</span></p>
<ul>
<li><span>Docker containers do not require a special OS, because they use the host OS, making it lightweight.</span></li>
</ul>
<p><span>Efficiency:</span></p>
<ul>
<li><span>Docker containers, unlike VMs dependent on hardware, virtualize the OS with the help of Docker itself. For the same reasons stated above, it decreases resource consumption as well.</span></li>
</ul>
<p><span>Security:</span></p>
<ul>
<li><span>One of Docker’s features is that it allows the use of secrets to keep credentials and sensitive data safe and them be accessible by the application.</span></li>
</ul>
<p><span>As for docker swarm, this solution is easily applied in small clusters and testing, but not in large systems.</span></p>
</blockquote>
</blockquote><hr><h2 id="Task-2---Distributing-an-ApplicationMicroservices" data-id="Task-2---Distributing-an-ApplicationMicroservices"><a class="anchor hidden-xs" href="#Task-2---Distributing-an-ApplicationMicroservices" title="Task-2---Distributing-an-ApplicationMicroservices"><span class="octicon octicon-link"></span></a><span>Task 2 - Distributing an Application/Microservices</span></h2><div class="alert alert-success">
<p><span>Base level (it means that this task will be evaluated very meticulously): deploy at least a simple application (e.g. a simple web page showing the hostname of the host node it is running upon) and validate that its instances are spreading across the farm. It is literally not necessary to create your own service/application: you can use something from a public repository, for example, from DockerHub. However, no one forbids you to work with self-written projects.</span><br>
<span>Hint: creating such application is particularly easy to achieve with Swarm when the nodes does not share storage. Same goes for K8s, but you need use a workaround e.g. volumes with hostPath .</span><br>
<span>Semi-Bonus 1: deploy a microservices instead of standalone application, e.g. full stack web application with web server, database…</span><br>
<span>Bonus 2: use Veewee/Vargant to build and distribute your development environment.</span><br>
<span>Bonus 3: if you use k8s, prepare a helm chart for your application.</span></p>
</div><p><span>I started by installing a visualizer to view my cluster in real time:</span><br>
<code>sudo docker service create --name=vizualization --publish=8080:8080/tcp --constraint=node.role==manager --mount=type=bind,src=/var/run/docker.sock,dst=/var/run/docker.sock dockersamples/visualizer</code><span>.</span></p><p><span>Figure 8 shows the visualizer service.</span></p><center>
<p><img src="https://i.imgur.com/1wErUbK.png" alt="" loading="lazy"><br>
<span>Figure 8 - Vizualizer service</span></p>
</center><p><span>There are three nodes. vmanager - my manager, alisher - Alisher’s worker, and worker-1 is my worker. There is no service other than a vizualizer. Now let’s deploy nginx service on it.</span></p><hr><p><span>Now I will deploy a web application [5] that serves a simple page containing its hostname, IP address and port, as wells as the request URI and the local time of the webserver. To do this I will use the </span><code>docker service create</code><span> command:</span><br>
<code>sudo docker service create --name simple-web -p 8081:80 --mode global nginxdemos/hello</code></p><div class="alert alert-info">
<p><span>–mode global will spread this to all the nodes in the cluster.</span></p>
</div><blockquote>
<p><span>Another way to do this is simply creating the service and scaling up to a required number of nodes using the </span><code>docker service scale</code><span>.</span></p>
</blockquote><p><span>After executing the above command from the manager, a new service will appear in the vizualizer (Figure 9).This is proof that the instance is distributed accross the cluster.</span></p><center>
<p><img src="https://i.imgur.com/6HBBK32.png" alt="" loading="lazy"><br>
<span>Figure 9 - The new service appears</span></p>
</center><p><span>I see that the new service is also deployed for the vmanager. This happened because by default the manager also has the worker status.</span></p><blockquote>
<p><span>This can be fixed by command </span><code>sudo docker node update --availability drain iuw9joy0oei6gxs2xzqt5m5c1</code><span> or option </span><code>--constraint=node.role==worker </code><span>.</span></p>
</blockquote><p><span>Table 1 shows the IDs of the deployed containers.</span></p><center>
Table 1 - nginxdemos container IDs
<table>
<thead>
<tr>
<th><span>Container</span></th>
<th><span>ID</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span>alisher</span></td>
<td><span>ebc333a78708</span></td>
</tr>
<tr>
<td><span>vmanager</span></td>
<td><span>999e1d4d91cc</span></td>
</tr>
<tr>
<td><span>worker-1</span></td>
<td><span>ebc333a78708</span></td>
</tr>
</tbody>
</table>
</center><p><span>So now I can access the web page and see the host ID as shown in Figures 10 and 11.</span></p><center>
<p><img src="https://i.imgur.com/yhYdpOU.png" alt="" loading="lazy"><br>
<span>Figure 10 - IDs from web pages</span></p>
<p><img src="https://i.imgur.com/PgIaA8A.png" alt="" loading="lazy"><br>
<span>Figure 11 - Example of web page but IP from nginx container</span></p>
</center><hr><h2 id="Task-3---Validation" data-id="Task-3---Validation"><a class="anchor hidden-xs" href="#Task-3---Validation" title="Task-3---Validation"><span class="octicon octicon-link"></span></a><span>Task 3 - Validation</span></h2><div class="alert alert-success">
<p><span>Validate that when a node goes down a new instance is launched. Show how the redistribution of the instances can happen when the broken node comes back alive. Describe all steps of tests in your report in details.</span></p>
</div><p><span>I removed an existing service using the command </span><code>sudo docker service rm simple-web</code><span>. Figure 12 shows the initial state of the cluster.</span></p><center>
<p><img src="https://i.imgur.com/vjRXx6G.png" alt="" loading="lazy"><br>
<span>Figure 12 - Initial state of the cluster</span></p>
</center><p><span>To perform the validation, I create a new service using the command </span><code>sudo docker service create --name validation -p 8082:80 --replicas 3 nginxdemos/hello</code><span> (Figure 13).</span></p><div class="alert alert-info">
<p><span>–replicate - create a specific number of tasks. Even when a node goes down, a new instance is created and stored. While </span><code>--mode global</code><span> auto scale once.</span></p>
</div><center>
<p><img src="https://i.imgur.com/XSukBTe.png" alt="" loading="lazy"><br>
<span>Figure 13 - validation is running on all three nodes</span></p>
</center><p><span>Then I stopped the worker-1 (Figure 14).</span></p><center>
<p><img src="https://i.imgur.com/o4a6rOx.png" alt="" loading="lazy"><br>
<span>Figure 14 - Worker-1 is down</span></p>
</center><p><span>Swarm created a new instance (new ID - hex string) and stored it in alisher worker. When I run Worker-1 againg, swarm does not redistribute services (Figure 15).</span></p><center>
<p><img src="https://i.imgur.com/HUkXxS1.png" alt="" loading="lazy"><br>
<span>Figure 15 - swarm does not redistribute services</span></p>
</center><p><span>It can be fixed with the command </span><code>sudo docker service update validation --force</code><span> (Figure 16).</span></p><center>
<p><img src="https://i.imgur.com/mwiVLs9.png" alt="" loading="lazy"><br>
<span>Figure 16 - Updated validation service</span></p>
</center><hr><h2 id="Task-4---Load-balancing" data-id="Task-4---Load-balancing"><a class="anchor hidden-xs" href="#Task-4---Load-balancing" title="Task-4---Load-balancing"><span class="octicon octicon-link"></span></a><span>Task 4 - Load-balancing</span></h2><div class="alert alert-success">
<ol>
<li><span>Choose a load-balancing facility, which will be installed and tested against your orchestrator.</span></li>
<li><span>Swarm or K8S’s network overlay is already spreading the requests among the farm, right? So why would a load-balancer still be needed? Explain and show briefly how a real-life network architecture look like with a small diagram.</span></li>
</ol>
</div><p><span>We chose the layer 7 NGINX/NGINX Plus solution as a load-balancing facility. It has been changed to dynamic modules instead of objects.</span></p><p><span>I got rid of the validation service using the command </span><code>sudo docker service rm validation</code><span>.</span><br>
<span>Then I create a service and scale it using the commands (Figure 17):</span></p><pre><code>sudo docker service create --name balancer -p 8081:80 --replicas 2 nginx
sudo docker services scale balancer=3
</code></pre><center>
<p><img src="https://i.imgur.com/aFWNgId.png" alt="" loading="lazy"><br>
<span>Figure 17 - balancer</span></p>
</center><p><span>Then I need to configure nginx using nginx.conf file. To do this, I log into the container using the commands:</span></p><pre><code>//Find nginx container ID (bfffaa08734c)
sudo docker container ls
// Connect
sudo docker exec -it bfffaa08734c /bin/bash
</code></pre><p><span>Then I edit nginx.conf as shown in Figure 18.</span></p><center>
<p><img src="https://i.imgur.com/G0QsPxH.png" alt="" loading="lazy"><br>
<span>Figure 18 - nginx.conf</span></p>
</center><p><span>Then I changed index.html file for each container. Now let’s access 10.1.1.23:8081 (Figure 19)</span></p><center>
<p><img src="https://i.imgur.com/MXXQU48.png" alt="" loading="lazy"><br>
<span>Figure 19 - Manager page</span></p>
</center><p><span>Then I opened it in new private window several times(Figures 20 and 21).</span></p><center>
<p><img src="https://i.imgur.com/tzIX9KV.png" alt="" loading="lazy"><br>
<span>Figure 20 - Still manager’s IP but Alisher’s web page</span></p>
<p><img src="https://i.imgur.com/E2gw4cv.png" alt="" loading="lazy"><br>
<span>Figure 21 - Still manager’s IP but Worker-1’s web page</span></p>
</center><hr><blockquote>
<p><span>Swarm or K8S’s network overlay is already spreading the requests among the farm, right? So why would a load-balancer still be needed? Explain and show briefly how a real-life network architecture look like with a small diagram.</span></p>
<blockquote>
<p><span>Swarm itself has the basic load balancing capability in layer 4. But sometimes additional feature are needed - SSL/TLS termination, Content‑based routing, Access control and authorization, Rewrites and redirects [6].</span></p>
</blockquote>
</blockquote><hr><p><span>Figure 22 shows the work of Swarm load balancer.</span></p><center>
<p><img src="https://i.imgur.com/KVvG6Ux.png" alt="" loading="lazy"><br>
<span>Figure 22 - swarm load balancer</span></p>
</center><p><span>The Docker Swarm load balancer runs on every node and can load balance requests across any of the containers on any of the hosts in the cluster.</span></p><p><span>Figure 23 shows the work of the Nginx load balancer.</span></p><center>
<p><img src="https://i.imgur.com/7HkBIvf.png" alt="" loading="lazy"><br>
<span>Figure 23 - Nginx load balancer</span></p>
</center><p><span>When a client makes a request for service, it goes to the swarm load balancer which routes it to Nginx.</span><br>
<span>Nginx processes the request and routes it to the service. The Swarm load balancer routes the request to one of the containers for service A, on any of the Swarm nodes.</span></p><h2 id="Task-5---Autoscaling" data-id="Task-5---Autoscaling"><a class="anchor hidden-xs" href="#Task-5---Autoscaling" title="Task-5---Autoscaling"><span class="octicon octicon-link"></span></a><span>Task 5 - Autoscaling</span></h2><div class="alert alert-success">
<ol>
<li><span>For those who chose Kubernetes, setup a Horizontal Pod Autoscaler. Perform a stress test and validate that the number of pods is changing depending on the load.</span><br>
<span>Hint: to perform a stress test you can use the stress utility.</span></li>
<li><span>Bonus for the others: how to scale instances in the Docker Swarm or another facility? Could it be done automatically?</span></li>
</ol>
</div><p><span>Docker swarm itself do not have a way to perform autoscalling but it can perform scalling using </span><code>docker service scale</code><span>. There are third party solutions like Orbiter or docker-swarm-service-autoscaler.</span><br>
<span>This can still be done using a script and monitoring the use of returns (using top or monit).</span></p><h2 id="Task-6---Updates-amp-Monitoring-theoretical" data-id="Task-6---Updates-amp-Monitoring-theoretical"><a class="anchor hidden-xs" href="#Task-6---Updates-amp-Monitoring-theoretical" title="Task-6---Updates-amp-Monitoring-theoretical"><span class="octicon octicon-link"></span></a><span>Task 6 - Updates &amp; Monitoring (theoretical)</span></h2><div class="alert alert-success">
<ol>
<li><span>Suppose your application must be updated. Describe the process of applying image or instance updates with your orchestrators of choice, and do it with a minor change in your sample application. In other words, how to ship the containers depending on your engine and orchestrator?</span></li>
</ol>
</div><p><span>To update the image, I need to pull the image - </span><code>docker pull image-name</code><span>.</span><br>
<span>Then create container and log in it - </span><code>docker run -it iamge-id /bin/sh</code><span>.</span><br>
<span>Make some modification in application.</span><br>
<span>Exit from container and create its image - </span><code>docker commit container-id image-name</code><span>.</span><br>
<span>Then persist this to all node - </span><code>docker service create --mode global image-name</code><span>.</span><br>
<span>Another way to do this - create image from a docker file. So apps will be updated through updating the content of the docker file.</span></p><hr><div class="alert alert-success">
<ol start="2">
<li><span>It is always a good practice to do monitoring and logging. How can this be done with your orchestrators of choice? Are there built-in tools or must you use third-party ones?</span></li>
</ol>
</div><p><span>Logging can be easily done by using the command </span><code>docker service logs image-id</code><span>.</span></p><p><span>For monitoring I need to deploy a third-party solution like swarmprom [7].</span></p><pre><code>//Clone repository
git clone https://github.com/stefanprodan/swarmprom.git
cd swarmprom
Then configure enviroment - user, password, entries in proxy configuration.
</code></pre><h2 id="References" data-id="References"><a class="anchor hidden-xs" href="#References" title="References"><span class="octicon octicon-link"></span></a><span>References</span></h2><ol>
<li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener"><span>Docker</span></a></li>
<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/" target="_blank" rel="noopener"><span>Docker Swarm</span></a></li>
<li><a href="https://itisgood.ru/2019/08/09/docker-swarm-dlja-orkestracii-kontejnerov/" target="_blank" rel="noopener"><span>Docker Swarm for container orchestration</span></a></li>
<li><a href="https://redgreenrepeat.com/2018/10/26/docker-swarm-visualizer/" target="_blank" rel="noopener"><span>Docker Swarm Visualizer</span></a></li>
<li><a href="https://github.com/nginxinc/NGINX-Demos/blob/master/nginx-hello/README.md" target="_blank" rel="noopener"><span>NGINX-Demos</span></a></li>
<li><a href="https://www.nginx.com/resources/glossary/layer-7-load-balancing/" target="_blank" rel="noopener"><span>What Is Layer 7 Load Balancing?</span></a></li>
<li><a href="https://www.nginx.com/blog/docker-swarm-load-balancing-nginx-plus/" target="_blank" rel="noopener"><span>Docker Swarm Load Balancing with NGINX and NGINX Plus</span></a></li>
<li><a href="https://github.com/stefanprodan/swarmprom" target="_blank" rel="noopener"><span>swarmprom</span></a></li>
<li><a href="https://dockerswarm.rocks/swarmprom/" target="_blank" rel="noopener"><span>Config smarmprom</span></a></li>
</ol></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li><a href="#SSN-Lab-2---Container-Orchestration-amp-Load-balancing" title="SSN Lab 2 - Container Orchestration &amp; Load-balancing">SSN Lab 2 - Container Orchestration &amp; Load-balancing</a><ul class="nav">
<li><a href="#Task-1---Choose-Container-Engine-amp-Orchestration" title="Task 1 - Choose Container Engine &amp; Orchestration">Task 1 - Choose Container Engine &amp; Orchestration</a></li>
<li><a href="#Task-2---Distributing-an-ApplicationMicroservices" title="Task 2 - Distributing an Application/Microservices">Task 2 - Distributing an Application/Microservices</a></li>
<li><a href="#Task-3---Validation" title="Task 3 - Validation">Task 3 - Validation</a></li>
<li><a href="#Task-4---Load-balancing" title="Task 4 - Load-balancing">Task 4 - Load-balancing</a></li>
<li><a href="#Task-5---Autoscaling" title="Task 5 - Autoscaling">Task 5 - Autoscaling</a></li>
<li><a href="#Task-6---Updates-amp-Monitoring-theoretical" title="Task 6 - Updates &amp; Monitoring (theoretical)">Task 6 - Updates &amp; Monitoring (theoretical)</a></li>
<li><a href="#References" title="References">References</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li><a href="#SSN-Lab-2---Container-Orchestration-amp-Load-balancing" title="SSN Lab 2 - Container Orchestration &amp; Load-balancing">SSN Lab 2 - Container Orchestration &amp; Load-balancing</a><ul class="nav">
<li><a href="#Task-1---Choose-Container-Engine-amp-Orchestration" title="Task 1 - Choose Container Engine &amp; Orchestration">Task 1 - Choose Container Engine &amp; Orchestration</a></li>
<li><a href="#Task-2---Distributing-an-ApplicationMicroservices" title="Task 2 - Distributing an Application/Microservices">Task 2 - Distributing an Application/Microservices</a></li>
<li><a href="#Task-3---Validation" title="Task 3 - Validation">Task 3 - Validation</a></li>
<li><a href="#Task-4---Load-balancing" title="Task 4 - Load-balancing">Task 4 - Load-balancing</a></li>
<li><a href="#Task-5---Autoscaling" title="Task 5 - Autoscaling">Task 5 - Autoscaling</a></li>
<li><a href="#Task-6---Updates-amp-Monitoring-theoretical" title="Task 6 - Updates &amp; Monitoring (theoretical)">Task 6 - Updates &amp; Monitoring (theoretical)</a></li>
<li><a href="#References" title="References">References</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
